(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-fba6c1f6"],{2978:function(t,e,o){"use strict";o.d(e,"k",(function(){return i})),o.d(e,"i",(function(){return a})),o.d(e,"j",(function(){return n})),o.d(e,"e",(function(){return s})),o.d(e,"b",(function(){return l})),o.d(e,"f",(function(){return p})),o.d(e,"a",(function(){return c})),o.d(e,"h",(function(){return d})),o.d(e,"c",(function(){return u})),o.d(e,"g",(function(){return m})),o.d(e,"d",(function(){return f}));var r=o("b775");function i(t){return Object(r["a"])({url:"project/apps",method:"get",params:t})}function a(t){return Object(r["a"])({url:"project/apps/status",method:"get",params:t})}function n(t){return Object(r["a"])({url:"project/apps/versions",method:"get",params:t})}function s(t){return Object(r["a"])({url:"project/apps/".concat(t),method:"get"})}function l(t){return Object(r["a"])({url:"project/apps/".concat(t),method:"delete"})}function p(t){return Object(r["a"])({url:"project/apps/version/".concat(t),method:"get"})}function c(t){return Object(r["a"])({url:"/project/apps",method:"post",data:t})}function d(t){return Object(r["a"])({url:"/project/apps/install",method:"post",data:t})}function u(t){return Object(r["a"])({url:"/project/apps/destroy",method:"post",data:t})}function m(t){return Object(r["a"])({url:"/project/apps/import_storeapp",method:"post",data:t})}function f(t){return Object(r["a"])({url:"/project/apps/duplicate_app",method:"post",data:t})}},"4bff":function(t,e,o){"use strict";o.d(e,"d",(function(){return i})),o.d(e,"c",(function(){return a})),o.d(e,"a",(function(){return n})),o.d(e,"b",(function(){return s}));o("99af");var r=o("b775");function i(t){return Object(r["a"])({url:"appstore",method:"get",params:t})}function a(t,e){return Object(r["a"])({url:"appstore/".concat(t),method:"get",params:e})}function n(t){return Object(r["a"])({url:"appstore/create",method:"post",data:t})}function s(t,e){return Object(r["a"])({url:"appstore/".concat(t,"/").concat(e),method:"delete"})}},"73d3":function(t,e,o){"use strict";var r=o("7ff9"),i=o.n(r);i.a},"7ff9":function(t,e,o){},cbdf:function(t,e,o){"use strict";o.r(e);var r=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("clusterbar",{attrs:{titleName:t.titleName,nameFunc:t.nameSearch,createDisplay:"创建应用"}},[o("div",{staticStyle:{display:"inline-block"},attrs:{slot:"right-btn"},slot:"right-btn"},[o("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-plus"},on:{click:t.openCreateApp}},[t._v(" 创建应用 ")]),o("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.openImportStoreAppDialog}},[t._v(" 导入应用 ")])],1)]),o("div",{ref:"tableCot",staticClass:"dashboard-container"},[o("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"multipleTable",staticClass:"table-fix",staticStyle:{width:"100%"},attrs:{data:t.originApps,"cell-style":t.cellStyle,"default-sort":{prop:"name"},"tooltip-effect":"dark"}},[o("el-table-column",{attrs:{prop:"name",label:"名称","show-overflow-tooltip":"","min-width":"15"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("span",{staticClass:"name-class",on:{click:function(o){return t.nameClick(e.row.id)}}},[t._v(" "+t._s(e.row.name)+" ")])]}}])}),o("el-table-column",{attrs:{prop:"package_version",label:"版本","show-overflow-tooltip":"","min-width":"15"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s("space"==e.row.app_version.from?e.row.app_version.package_version:e.row.app_version.package_version+" / "+e.row.app_version.app_version)+" ")]}}])}),o("el-table-column",{attrs:{prop:"type",label:"类型","show-overflow-tooltip":"","min-width":"15"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t.typeNameMap[e.row.type])+" ")]}}])}),o("el-table-column",{attrs:{prop:"update_user",label:"操作人","show-overflow-tooltip":"","min-width":"15"}}),o("el-table-column",{attrs:{prop:"update_time",label:"更新时间","show-overflow-tooltip":"","min-width":"20"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t.$dateFormat(e.row.update_time))+" ")]}}])}),o("el-table-column",{attrs:{prop:"status",label:"状态","show-overflow-tooltip":"","min-width":"15"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("div",{staticClass:"status-class",style:{"border-color":t.statusColorMap[e.row.status],"background-color":t.statusColorMap[e.row.status]}}),o("span",{style:{"font-weight":430}},[t._v(t._s(t.statusNameMap[e.row.status]))])]}}])}),o("el-table-column",{attrs:{label:"操作",width:"170"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("div",{staticClass:"tableOperate"},["UnInstall"==e.row.status?o("el-link",{staticClass:"operator-btn",attrs:{underline:!1},on:{click:function(o){return t.openInstallFormDialog(e.row)}}},[t._v("安装")]):t._e(),"UnInstall"!=e.row.status?o("el-link",{staticClass:"operator-btn",attrs:{underline:!1},on:{click:function(o){return t.openInstallFormDialog(e.row,!0)}}},[t._v("升级")]):t._e(),"space"==e.row.app_version.from?o("el-link",{staticClass:"operator-btn",attrs:{underline:!1},on:{click:function(o){return t.openEditApp(e.row.app_version_id)}}},[t._v("编辑")]):t._e(),o("el-dropdown",{staticStyle:{"font-size":"13px"}},[o("span",{staticClass:"el-dropdown-link operator-btn"},[t._v(" 更多操作 ")]),o("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[o("el-dropdown-item",[o("el-link",{staticClass:"operator-btn",staticStyle:{color:"#0c81f5","font-weight":"400"},attrs:{underline:!1},on:{click:function(o){return t.openCloneAppDiloag(e.row,"project_app")}}},[t._v("克隆")])],1),o("el-dropdown-item",[o("el-link",{staticClass:"operator-btn",staticStyle:{color:"#0c81f5","font-weight":"400"},attrs:{underline:!1},on:{click:function(o){return t.openCloneAppDiloag(e.row,"store_app")}}},[t._v("发布")])],1),o("el-dropdown-item",["UnInstall"!=e.row.status?o("el-link",{staticClass:"operator-btn",staticStyle:{color:"#F56C6C","font-weight":"400"},attrs:{underline:!1},on:{click:function(o){return t.handleDestroyApp(e.row.id,e.row.name)}}},[t._v("销毁")]):t._e(),"UnInstall"==e.row.status?o("el-link",{staticStyle:{color:"#F56C6C","font-weight":"400"},attrs:{underline:!1},on:{click:function(o){return t.handleDeleteApp(e.row.id,e.row.name)}}},[t._v("删除")]):t._e()],1)],1)],1)],1)]}}])})],1),o("el-dialog",{attrs:{title:t.updateFormVisible?"升级应用":"安装应用",visible:t.installFormVisible,"destroy-on-close":!0,"close-on-click-modal":!1,top:"5vh",width:"70%"},on:{"update:visible":function(e){t.installFormVisible=e},close:t.closeFormDialog}},[o("div",{directives:[{name:"loading",rawName:"v-loading",value:t.dialogLoading,expression:"dialogLoading"}]},[o("div",{staticClass:"dialogContent",staticStyle:{"margin-top":"-10px"}},[o("el-form",{ref:"form",attrs:{model:t.form,rules:t.rules,"label-position":"left","label-width":"105px"}},[o("el-form-item",{attrs:{label:"应用名称",prop:"",autofocus:""}},[o("span",[t._v(t._s(t.form.name))])]),o("div",{directives:[{name:"loading",rawName:"v-loading",value:t.fetchVersionLoading,expression:"fetchVersionLoading"}]},[o("el-form-item",{staticStyle:{"margin-top":"0px"},attrs:{label:"安装版本",prop:"",required:!0}},[o("el-select",{staticStyle:{width:"50%"},attrs:{placeholder:"请选择应用版本",size:"small"},on:{change:t.changeInstallAppVersion},model:{value:t.form.app_version_id,callback:function(e){t.$set(t.form,"app_version_id",e)},expression:"form.app_version_id"}},t._l(t.appVersions,(function(t){return o("el-option",{key:t.id,attrs:{label:t.package_version,value:t.id}})})),1)],1),"space"==t.form.from?[o("el-row",{staticStyle:{"line-height":"38px","margin-top":"10px"}},[o("el-col",{attrs:{span:7}},[o("div",{staticStyle:{"padding-left":"10px","background-color":"rgb(245, 247, 250)",color:"#909399"}},[t._v("负载容器")])]),o("el-col",{attrs:{span:11}},[o("div",{staticStyle:{"background-color":"rgb(245, 247, 250)",color:"#909399"}},[t._v("镜像")])]),o("el-col",{attrs:{span:6}},[o("div",{staticStyle:{"background-color":"rgb(245, 247, 250)",color:"#909399"}},[t._v("标签")])])],1),t._l(t.form.values_dict.workloads?t.form.values_dict.workloads:{},(function(e,r){return o("div",{key:r},t._l(e.containers,(function(e,i){return o("el-row",{key:i,staticStyle:{"margin-top":"10px"}},[o("el-col",{attrs:{span:7}},[o("div",{staticStyle:{"padding-left":"10px","padding-top":"6px","padding-right":"3px"}},[t._v(t._s(r+"/"+i))])]),o("el-col",{staticStyle:{"padding-right":"15px"},attrs:{span:11}},[o("el-input",{attrs:{autocomplete:"off",placeholder:"请输入容器镜像",size:"small"},model:{value:e.image,callback:function(o){t.$set(e,"image",o)},expression:"cv.image"}})],1),o("el-col",{attrs:{span:6}},[o("el-input",{attrs:{autocomplete:"off",placeholder:"镜像Tag",size:"small"},model:{value:e.tag,callback:function(o){t.$set(e,"tag",o)},expression:"cv.tag"}})],1)],1)})),1)}))]:t._e(),"import"==t.form.from?o("div",[o("yaml",{model:{value:t.form.values,callback:function(e){t.$set(t.form,"values",e)},expression:"form.values"}})],1):t._e()],2)],1)],1),o("div",{staticClass:"dialogFooter",staticStyle:{"padding-top":"25px"},attrs:{slot:"footer"},slot:"footer"},[o("el-button",{staticStyle:{"margin-right":"20px"},on:{click:function(e){t.installFormVisible=!1}}},[t._v("取 消")]),o("el-button",{attrs:{type:"primary"},on:{click:function(e){t.updateFormVisible?t.handleInstallApp(!0):t.handleInstallApp()}}},[t._v(" "+t._s(t.updateFormVisible?"升 级":"安 装")+" ")])],1)])]),o("el-dialog",{attrs:{title:"应用商店导入",visible:t.importStoreFormVisible,"destroy-on-close":!0,"close-on-click-modal":!1},on:{"update:visible":function(e){t.importStoreFormVisible=e},close:function(e){t.importStoreFormVisible=!1,t.importStoreAppForm={}}}},[o("div",{directives:[{name:"loading",rawName:"v-loading",value:t.dialogLoading,expression:"dialogLoading"}]},[o("div",{staticClass:"dialogContent"},[o("el-form",{ref:"form",attrs:{model:t.importStoreAppForm,rules:t.rules,"label-position":"left","label-width":"105px"}},[o("div",{directives:[{name:"loading",rawName:"v-loading",value:t.fetchVersionLoading,expression:"fetchVersionLoading"}]},[o("el-form-item",{attrs:{label:"应用名称",prop:"",required:!0}},[o("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择应用",size:"small",filterable:""},on:{change:t.storeAppChange},model:{value:t.importStoreAppForm.storeAppId,callback:function(e){t.$set(t.importStoreAppForm,"storeAppId",e)},expression:"importStoreAppForm.storeAppId"}},t._l(t.storeApps,(function(t){return o("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1),o("el-form-item",{attrs:{label:"应用版本",prop:"",required:!0}},[o("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择应用版本",size:"small"},model:{value:t.importStoreAppForm.storeAppVersion,callback:function(e){t.$set(t.importStoreAppForm,"storeAppVersion",e)},expression:"importStoreAppForm.storeAppVersion"}},t._l(t.storeAppVersions||[],(function(t){return o("el-option",{key:t.id,attrs:{label:t.package_version+" / "+t.app_version,value:t.id}})})),1)],1)],1)])],1),o("div",{staticClass:"dialogFooter",staticStyle:{"padding-top":"0px"},attrs:{slot:"footer"},slot:"footer"},[o("el-button",{staticStyle:{"margin-right":"20px"},on:{click:function(e){t.importStoreFormVisible=!1}}},[t._v("取 消")]),o("el-button",{attrs:{type:"primary"},on:{click:t.handelImportStoreApp}},[t._v("导 入")])],1)])]),o("el-dialog",{attrs:{title:"project_app"==t.cloneForm.scope?"克隆应用":"发布应用",visible:t.cloneFormVisible,"destroy-on-close":!0,"close-on-click-modal":!1},on:{"update:visible":function(e){t.cloneFormVisible=e},close:function(e){t.cloneFormVisible=!1,t.cloneForm={}}}},[o("div",{directives:[{name:"loading",rawName:"v-loading",value:t.dialogLoading,expression:"dialogLoading"}]},[o("div",{staticClass:"dialogContent"},[o("el-form",{ref:"form",attrs:{model:t.cloneForm,rules:t.rules,"label-position":"left","label-width":"105px"}},["project_app"==t.cloneForm.scope?o("el-form-item",{attrs:{label:"工作空间",prop:"",required:!0}},[o("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择工作空间",size:"small"},model:{value:t.cloneForm.project_id,callback:function(e){t.$set(t.cloneForm,"project_id",e)},expression:"cloneForm.project_id"}},t._l(t.projects,(function(t){return o("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1):t._e(),o("el-form-item",{attrs:{label:"应用名称",prop:"",required:!0}},[o("el-input",{attrs:{placeholder:"请输入应用名称",size:"small"},model:{value:t.cloneForm.name,callback:function(e){t.$set(t.cloneForm,"name",e)},expression:"cloneForm.name"}})],1),o("el-form-item",{attrs:{label:"应用版本",prop:"",autofocus:""}},[o("span",[t._v(t._s(t.cloneForm.package_version))])])],1)],1),o("div",{staticClass:"dialogFooter",staticStyle:{"padding-top":"0px"},attrs:{slot:"footer"},slot:"footer"},[o("el-button",{staticStyle:{"margin-right":"20px"},on:{click:function(e){t.cloneFormVisible=!1}}},[t._v("取 消")]),o("el-button",{attrs:{type:"primary"},on:{click:t.handleDuplicateApp}},[t._v(t._s("project_app"==t.cloneForm.scope?"克 隆":"发 布"))])],1)])])],1)],1)},i=[],a=(o("b0c0"),o("d3b7"),o("ac1f"),o("1276"),o("ddb0"),o("b85c")),n=o("61b2"),s=o("4fee"),l=o("2978"),p=o("5c96"),c=o("4bff"),d=o("651e"),u=o.n(d),m={name:"projectApps",components:{Clusterbar:n["a"],Yaml:n["f"]},mounted:function(){var t=this;window.onresize=function(){return function(){var e=window.innerHeight-150;t.maxHeight=e}()}},data:function(){return{maxHeight:window.innerHeight-150,cellStyle:{border:0},titleName:["应用管理"],loading:!0,installFormVisible:!1,updateFormVisible:!1,clusters:[],namespaces:[],appVersions:[],fetchVersionLoading:!1,dialogLoading:!1,refreshStatusTimer:void 0,form:{id:"",name:"",app_version_id:"",values_dict:{},values:"",from:""},rules:{},statusNameMap:{UnInstall:"未安装",NotReady:"未就绪",RunningFault:"运行故障",Running:"运行中"},statusColorMap:{UnInstall:"",NotReady:"#E6A23C",RunningFault:"#F56C6C",Running:"#67C23A"},typeNameMap:{ordinary_app:"普通应用",middleware:"中间件",import_app:"导入应用"},originApps:[],search_name:"",importStoreFormVisible:!1,importStoreAppForm:{storeAppId:"",storeAppVersion:""},storeApps:[],cloneFormVisible:!1,cloneForm:{},projects:[]}},created:function(){this.fetchApps()},beforeDestroy:function(){this.refreshStatusTimer&&clearTimeout(this.refreshStatusTimer)},computed:{projectId:function(){return this.$route.params.workspaceId},storeAppVersions:function(){if(!this.importStoreAppForm.storeAppId)return[];if(0==this.storeApps.length)return[];var t,e=Object(a["a"])(this.storeApps);try{for(e.s();!(t=e.n()).done;){var o=t.value;if(o.id==this.importStoreAppForm.storeAppId&&o.versions)return o.versions}}catch(r){e.e(r)}finally{e.f()}return[]}},methods:{nameClick:function(t){this.$router.push({name:"workspaceAppDetail",params:{appId:t}})},fetchApps:function(){var t=this;this.loading=!0,Object(l["k"])({project_id:this.projectId}).then((function(e){var o=e.data?e.data:[];t.$set(t,"originApps",o),t.loading=!1,t.getAppStatus()})).catch((function(e){t.loading=!1}))},handleInstallApp:function(t){var e=this;if(this.form.id)if(this.form.app_version_id){var o=this.form.values;if("space"==this.form.from){var r=JSON.parse(JSON.stringify(this.form.values_dict));for(var i in r.workloads||{})for(var a in r.workloads[i].containers||{}){var n=r.workloads[i].containers[a].image,s=r.workloads[i].containers[a].tag;if(!n)return void p["Message"].error("请输入应用容器镜像");s&&(n+=":"+s),r.workloads[i].containers[a].image=n,void 0!=s&&delete r.workloads[i].containers[a].tag}o=u.a.dump(r)}var c={project_app_id:this.form.id,app_version_id:this.form.app_version_id,values:o,upgrade:!!t};this.dialogLoading=!0,Object(l["h"])(c).then((function(){e.dialogLoading=!1,e.installFormVisible=!1,p["Message"].success("安装应用成功"),e.fetchApps()})).catch((function(t){e.dialogLoading=!1}))}else p["Message"].error("请选择要安装的应用版本");else p["Message"].error("获取安装应用失败，请刷新重试")},handleDestroyApp:function(t,e){var o=this;t?this.$confirm("请确认是否销毁「".concat(e,"」此应用?"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){o.loading=!0,Object(l["c"])({project_app_id:t}).then((function(){p["Message"].success("销毁应用成功"),o.fetchApps()})).catch((function(t){console.log(t),o.loading=!1}))})).catch((function(){})):p["Message"].error("获取销毁应用id失败，请刷新重试")},handleDeleteApp:function(t,e){var o=this;t?this.$confirm("请确认是否删除「".concat(e,"」此应用以及所有版本?"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(l["b"])(t).then((function(){p["Message"].success("删除应用成功"),o.fetchApps()})).catch((function(t){console.log(t)}))})).catch((function(){})):p["Message"].error("获取应用id参数异常，请刷新重试")},nameSearch:function(t){this.search_name=t},openInstallFormDialog:function(t,e){var o=this;e&&(this.updateFormVisible=!0),this.appVersions=[],this.form={id:t.id,name:t.name,app_version_id:t.app_version_id,values_dict:{},values:"",from:t.app_version.from},this.installFormVisible=!0,this.fetchVersionLoading=!0,Object(l["j"])({scope:"project_app",scope_id:t.id}).then((function(e){o.appVersions=e.data?e.data:[],o.changeInstallAppVersion(t.app_version_id),o.fetchVersionLoading=!1})).catch((function(t){o.fetchVersionLoading=!1}))},changeInstallAppVersion:function(t){if(this.form.values_dict={},this.appVersions&&!(this.appVersions.length<=0)){var e,o=Object(a["a"])(this.appVersions);try{for(o.s();!(e=o.n()).done;){var r=e.value;if(r.id==t){var i=u.a.load(r.values);if(this.form.values=r.values,this.form.from=r.from,"space"==r.from)for(var n in i.workloads||{})for(var s in i.workloads[n].containers||{}){var l=i.workloads[n].containers[s].image;if(l){var p=l.split(":");i.workloads[n].containers[s].image=p[0],p.length>1&&(i.workloads[n].containers[s].tag=p[1])}}return void(this.form.values_dict=i)}}}catch(c){o.e(c)}finally{o.f()}}},closeFormDialog:function(){this.updateFormVisible=!1,this.installFormVisible=!1},openCreateApp:function(){this.$router.push({name:"workspaceCreateApp"})},openEditApp:function(t){this.$router.push({name:"workspaceEditApp",params:{appVersionId:t}})},getAppStatus:function(){var t=this;Object(l["i"])({project_id:this.projectId}).then((function(e){var o,r={},i=Object(a["a"])(e.data);try{for(i.s();!(o=i.n()).done;){var n=o.value;r[n.name]=n}}catch(c){i.e(c)}finally{i.f()}var s,l=Object(a["a"])(t.originApps);try{for(l.s();!(s=l.n()).done;){var p=s.value;p.name in r&&(p.status=r[p.name].status)}}catch(c){l.e(c)}finally{l.f()}t.refreshAppStatus()})).catch((function(){t.refreshAppStatus()}))},refreshAppStatus:function(){var t=this;this.refreshStatusTimer&&clearTimeout(this.refreshStatusTimer),this.refreshStatusTimer=setTimeout((function(){t.getAppStatus()}),1e4)},listStoreApps:function(){var t=this;this.dialogLoading=!0,Object(c["d"])({with_versions:!0}).then((function(e){t.storeApps=[];var o,r=Object(a["a"])(e.data||[]);try{for(r.s();!(o=r.n()).done;){var i=o.value;"component"!=i.type&&t.storeApps.push(i)}}catch(n){r.e(n)}finally{r.f()}t.storeApps.sort((function(t,e){return t.name>e.name?1:-1})),t.dialogLoading=!1})).catch((function(){t.dialogLoading=!1}))},openImportStoreAppDialog:function(){this.importStoreFormVisible=!0,0==this.storeApps.length&&this.listStoreApps()},storeAppChange:function(t){this.storeAppVersions.length>0?this.importStoreAppForm.storeAppVersion=this.storeAppVersions[0].id:this.importStoreAppForm.storeAppVersion=""},handelImportStoreApp:function(){var t=this;console.log(this.importStoreAppForm);var e={project_id:parseInt(this.projectId),store_app_id:this.importStoreAppForm.storeAppId,app_version_id:this.importStoreAppForm.storeAppVersion};console.log(e),e.store_app_id&&e.app_version_id?(this.dialogLoading=!0,Object(l["g"])(e).then((function(e){t.dialogLoading=!1,p["Message"].success("导入应用成功"),t.importStoreFormVisible=!1,t.fetchApps()})).catch((function(){t.dialogLoading=!1}))):p["Message"].error("请选择应用")},fetchProjects:function(){var t=this;this.dialogLoading=!0,Object(s["b"])().then((function(e){t.projects=e.data,t.projects.sort((function(t,e){return t.name>e.name?1:-1})),t.dialogLoading=!1})).catch((function(){t.dialogLoading=!1}))},openCloneAppDiloag:function(t,e){this.cloneForm={app_id:t.id,name:t.name,package_version:t.app_version.package_version,version_id:t.app_version_id,scope:e},"project_app"==e&&0==this.projects.length&&this.fetchProjects(),this.cloneFormVisible=!0},handleDuplicateApp:function(){var t=this;if(this.cloneForm.scope){var e={scope:this.cloneForm.scope};if("project_app"==this.cloneForm.scope){if(!this.cloneForm.project_id)return void p["Message"].error("克隆参数project_id错误，请刷新重试");e["scope_id"]=this.cloneForm.project_id}this.cloneForm.app_id?(e["app_id"]=this.cloneForm.app_id,this.cloneForm.version_id?(e["version_id"]=this.cloneForm.version_id,this.cloneForm.name?(e["name"]=this.cloneForm.name,this.dialogLoading=!0,Object(l["d"])(e).then((function(e){"project_app"==t.cloneForm.scope?p["Message"].success("克隆应用到工作空间成功"):p["Message"].success("发布应用到应用商店成功"),t.dialogLoading=!1,t.cloneFormVisible=!1})).catch((function(){t.dialogLoading=!1}))):p["Message"].error("克隆参数name错误，请刷新重试")):p["Message"].error("克隆参数version_id错误，请刷新重试")):p["Message"].error("克隆参数app_id错误，请刷新重试")}else p["Message"].error("克隆参数scope错误，请刷新重试")}}},f=m,h=(o("73d3"),o("2877")),g=Object(h["a"])(f,r,i,!1,null,"4d9ee7a8",null);e["default"]=g.exports}}]);