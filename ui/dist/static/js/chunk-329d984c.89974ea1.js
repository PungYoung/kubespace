(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-329d984c"],{"0b97":function(t,e,n){},2978:function(t,e,n){"use strict";n.d(e,"k",(function(){return i})),n.d(e,"i",(function(){return r})),n.d(e,"j",(function(){return o})),n.d(e,"e",(function(){return s})),n.d(e,"b",(function(){return c})),n.d(e,"f",(function(){return p})),n.d(e,"a",(function(){return l})),n.d(e,"h",(function(){return d})),n.d(e,"c",(function(){return u})),n.d(e,"g",(function(){return g})),n.d(e,"d",(function(){return h}));var a=n("b775");function i(t){return Object(a["a"])({url:"project/apps",method:"get",params:t})}function r(t){return Object(a["a"])({url:"project/apps/status",method:"get",params:t})}function o(t){return Object(a["a"])({url:"project/apps/versions",method:"get",params:t})}function s(t){return Object(a["a"])({url:"project/apps/".concat(t),method:"get"})}function c(t){return Object(a["a"])({url:"project/apps/".concat(t),method:"delete"})}function p(t){return Object(a["a"])({url:"project/apps/version/".concat(t),method:"get"})}function l(t){return Object(a["a"])({url:"/project/apps",method:"post",data:t})}function d(t){return Object(a["a"])({url:"/project/apps/install",method:"post",data:t})}function u(t){return Object(a["a"])({url:"/project/apps/destroy",method:"post",data:t})}function g(t){return Object(a["a"])({url:"/project/apps/import_storeapp",method:"post",data:t})}function h(t){return Object(a["a"])({url:"/project/apps/duplicate_app",method:"post",data:t})}},"2bfc":function(t,e,n){"use strict";var a=n("bc33"),i=n.n(a);i.a},9651:function(t,e,n){"use strict";var a=n("0b97"),i=n.n(a);i.a},bc33:function(t,e,n){},dd9c:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}]},[n("div",{ref:"tableCot",staticClass:"dashboard-container detail-dashboard project-overview-baseinfo"},[n("div",{staticStyle:{padding:"5px 0px 0px"}},[n("div",{staticStyle:{"margin-bottom":"10px"}},[t._v("基本信息")]),n("el-form",{staticClass:"pod-item",staticStyle:{margin:"3px 0px 10px 0px",border:"1px solid #EBEEF5","box-shadow":"none",padding:"5px 20px"},attrs:{"label-position":"left",inline:"","label-width":"80px"}},[n("el-form-item",{attrs:{label:"空间名称"}},[n("span",[t._v(t._s(t.project.name))])]),n("el-form-item",{attrs:{label:"绑定集群"}},[n("span",[t._v(t._s(t.project.cluster?t.project.cluster.name1:""))])]),n("el-form-item",{attrs:{label:"创建时间"}},[n("span",[t._v(t._s(t.$dateFormat(t.project.create_time)))])]),n("el-form-item",{attrs:{label:"负责人"}},[n("span",[t._v(t._s(t.project.owner))])]),n("el-form-item",{attrs:{label:"命名空间"}},[n("span",[t._v(t._s(t.project.namespace))])])],1)],1),n("div",{staticStyle:{padding:"15px 0px 0px"}},[n("div",{staticStyle:{"margin-bottom":"10px"}},[t._v("空间资源")]),n("div",{staticClass:"pod-item",staticStyle:{margin:"3px 0px 10px 0px",border:"1px solid #EBEEF5","box-shadow":"none",padding:"5px 20px","font-size":"14px"}},[n("div",{staticClass:"border-class"},[n("el-row",{attrs:{gutter:5}},[n("el-col",{attrs:{span:3}},[n("el-card",{staticStyle:{height:"140px"},attrs:{shadow:"never"}},[n("div",{staticStyle:{"text-align":"center",height:"20px"}},[t._v("应用")]),n("div",{staticStyle:{"text-align":"center","padding-top":"39px","font-size":"20px"}},[t._v(t._s(t.originApps.length))])])],1),n("el-col",{attrs:{span:3}},[n("el-card",{staticStyle:{height:"64px",color:"#409EFF","margin-top":"3px"},attrs:{shadow:"never"}},[n("div",{staticStyle:{"text-align":"center","font-size":"13px"}},[t._v("未安装")]),n("div",{staticStyle:{"text-align":"center","padding-top":"4px"}},[t._v(t._s(t.uninstallCnt))])]),n("el-card",{staticStyle:{height:"64px","margin-top":"6px",color:"#E6A23C"},attrs:{shadow:"never"}},[n("div",{staticStyle:{"text-align":"center","font-size":"13px"}},[t._v("未就绪")]),n("div",{staticStyle:{"text-align":"center","padding-top":"4px"}},[t._v(t._s(t.notReadyCnt))])])],1),n("el-col",{attrs:{span:3}},[n("el-card",{staticStyle:{height:"64px",color:"#67C23A","margin-top":"3px"},attrs:{shadow:"never"}},[n("div",{staticStyle:{"text-align":"center","font-size":"13px"}},[t._v("运行中")]),n("div",{staticStyle:{"text-align":"center","padding-top":"4px"}},[t._v(t._s(t.runningCnt))])]),n("el-card",{staticStyle:{height:"64px","margin-top":"6px",color:"#F56C6C"},attrs:{shadow:"never"}},[n("div",{staticStyle:{"text-align":"center","font-size":"13px"}},[t._v("运行故障")]),n("div",{staticStyle:{"text-align":"center","padding-top":"4px"}},[t._v(t._s(t.runningFaultCnt))])])],1),n("el-col",{attrs:{span:3}},[n("el-card",{staticStyle:{height:"140px"},attrs:{shadow:"never"}},[n("div",{staticStyle:{"text-align":"center",height:"20px","font-size":"13px"}},[t._v("ConfigMap")]),n("div",{staticStyle:{"text-align":"center","padding-top":"39px","font-size":"20px"}},[t._v(t._s(t.resource.config_map_num))])])],1),n("el-col",{attrs:{span:3}},[n("el-card",{staticStyle:{height:"140px"},attrs:{shadow:"never"}},[n("div",{staticStyle:{"text-align":"center",height:"20px","font-size":"13px"}},[t._v("Secret")]),n("div",{staticStyle:{"text-align":"center","padding-top":"39px","font-size":"20px"}},[t._v(t._s(t.resource.secret_num))])])],1),n("el-col",{attrs:{span:3}},[n("el-card",{staticStyle:{height:"140px"},attrs:{shadow:"never"}},[n("div",{staticStyle:{"text-align":"center",height:"20px","font-size":"13px"}},[t._v("Service")]),n("div",{staticStyle:{"text-align":"center","padding-top":"39px","font-size":"20px"}},[t._v(t._s(t.resource.service_num))])])],1),n("el-col",{attrs:{span:3}},[n("el-card",{staticStyle:{height:"140px"},attrs:{shadow:"never"}},[n("div",{staticStyle:{"text-align":"center",height:"20px","font-size":"13px"}},[t._v("Ingress")]),n("div",{staticStyle:{"text-align":"center","padding-top":"39px","font-size":"20px"}},[t._v(t._s(t.resource.ingress_num))])])],1),n("el-col",{attrs:{span:3}},[n("el-card",{staticStyle:{height:"140px"},attrs:{shadow:"never"}},[n("div",{staticStyle:{"text-align":"center",height:"20px","font-size":"13px"}},[t._v("PVC")]),n("div",{staticStyle:{"text-align":"center","padding-top":"39px","font-size":"20px"}},[t._v(t._s(t.resource.pvc_num))])])],1)],1)],1)])])])])},i=[],r=n("b85c"),o=n("4fee"),s=n("2978"),c=(n("5c96"),{name:"ProjectOverview",components:{},data:function(){return{titleName:["项目空间"],search_name:"",cellStyle:{border:0},maxHeight:window.innerHeight-150,loading:!0,project:{},originApps:[]}},created:function(){this.fetchProject(),this.fetchApps()},mounted:function(){var t=this;window.onresize=function(){return function(){var e=window.innerHeight-150;console.log(e),t.maxHeight=e}()}},computed:{projectId:function(){return this.$route.params.workspaceId},runningCnt:function(){return this.appStatusCnt("Running")},uninstallCnt:function(){return this.appStatusCnt("UnInstall")},notReadyCnt:function(){return this.appStatusCnt("NotReady")},runningFaultCnt:function(){return this.appStatusCnt("RunningFault")},resource:function(){return this.project.resource?this.project.resource:{}}},methods:{fetchProject:function(){var t=this;this.loading=!0,Object(o["c"])(this.projectId).then((function(e){t.project=e.data?e.data:{}})).catch((function(t){console.log(t)}))},fetchApps:function(){var t=this;this.loading=!0,Object(s["k"])({scope_id:this.projectId,scope:"project_app"}).then((function(e){var n=e.data?e.data:[];t.originApps=n,t.loading=!1})).catch((function(e){t.loading=!1}))},appStatusCnt:function(t){var e,n=0,a=Object(r["a"])(this.originApps);try{for(a.s();!(e=a.n()).done;){var i=e.value;i.status==t&&n++}}catch(o){a.e(o)}finally{a.f()}return n}}}),p=c,l=(n("9651"),n("2bfc"),n("2877")),d=Object(l["a"])(p,a,i,!1,null,"a2f69dec",null);e["default"]=d.exports}}]);